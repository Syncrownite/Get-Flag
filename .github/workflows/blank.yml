name: Get Flag
on: [workflow_dispatch]
permissions:
id-token: write
contents: read
jobs:
get-flag:
runs-on: ubuntu-latest
steps:
- name: Azure login
uses: azure/login@v1
with:
client-id: 9f997458-8fae-4cca-9e8f-921b8ec16022
tenant-id: fdd066e1-ee37-49bc-b08f-d0e152119b04
subscription-id: 1e82883a-e951-4964-be3a-972a429fc011
enable-AzPSSession: true
- name: Download flag
run: |
az storage blob download \
--account-name iamazurelab3275ad8a0 \
--container-name flag \
--name flag.txt \
--file flag.txt \
--auth-mode login
- name: Read flag
run: |
cat flag.txt
